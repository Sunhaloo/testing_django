{% extends "base.html" %}
{% load static %}

{% block title %}Edit Profile{% endblock %}

{% block extra_css %}
<link href="{% static 'profile_page/style.css' %}" rel="stylesheet" />
{% endblock %}

{% block content %}
<div class="edit-container">
    <div class="edit-card">
        <h2 class="edit-title">Edit Profile</h2>

        {% if messages %}
          {% for m in messages %}
            <div class="message {{ m.tags }} {% if 'error' in m.tags %}error-message{% else %}success-message{% endif %}">
              {{ m }}
            </div>
          {% endfor %}
        {% endif %}

        <form method="POST" enctype="multipart/form-data" novalidate class="edit-form">
            {% csrf_token %}

            <div class="form-group">
                <label class="form-label">{{ form.full_name.label }}</label>
                {{ form.full_name }}
                {% if form.full_name.errors %}<div class="form-error">{{ form.full_name.errors }}</div>{% endif %}
            </div>

            <div class="form-group">
                <label class="form-label">{{ form.first_name.label }}</label>
                {{ form.first_name }}
                {% if form.first_name.errors %}<div class="form-error">{{ form.first_name.errors }}</div>{% endif %}
            </div>

            <div class="form-group">
                <label class="form-label">{{ form.last_name.label }}</label>
                {{ form.last_name }}
                {% if form.last_name.errors %}<div class="form-error">{{ form.last_name.errors }}</div>{% endif %}
            </div>

            <div class="form-group">
                <label class="form-label">{{ form.email.label }}</label>
                {{ form.email }}
                {% if form.email.errors %}<div class="form-error">{{ form.email.errors }}</div>{% endif %}
            </div>

            <div class="form-group">
                <label class="form-label">{{ form.username.label }}</label>
                {{ form.username }}
                {% if form.username.errors %}<div class="form-error">{{ form.username.errors }}</div>{% endif %}
            </div>

            <div class="form-group">
                <label class="form-label">{{ form.gender.label }}</label>
                {{ form.gender }}
                {% if form.gender.errors %}<div class="form-error">{{ form.gender.errors }}</div>{% endif %}
            </div>

            <div class="form-group">
                <label class="form-label">{{ form.region.label }}</label>
                {{ form.region }}
                {% if form.region.errors %}<div class="form-error">{{ form.region.errors }}</div>{% endif %}
            </div>

            <div class="form-group">
                <label class="form-label">{{ form.street.label }}</label>
                {{ form.street }}
                {% if form.street.errors %}<div class="form-error">{{ form.street.errors }}</div>{% endif %}
            </div>

            <div class="form-group">
                <label class="form-label">{{ form.profile_pic.label }}</label>
                {{ form.profile_pic }}
                {% if form.profile_pic.errors %}<div class="form-error">{{ form.profile_pic.errors }}</div>{% endif %}
            </div>

            <div class="form-actions">
                <button type="submit" class="hover-grow-shadow save-btn">
                    Save Changes
                </button>
                <a href="{% url 'profile_page:profile' %}" class="hover-grow-shadow cancel-btn">
                    Cancel
                </a>
            </div>
        </form>
    </div>
</div>
{% endblock %}
