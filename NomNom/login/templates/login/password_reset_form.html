<!-- call the `base.html` template file -->
{% extends 'base.html' %}

<!-- load the `login/static/login/style.css` file -->
{% load static %}

<!-- change the title of the webpage -->
{% block title %} Reset Password {% endblock %}

<!-- the actual content for the password reset form -->
{% block content %}
<div class="page-shell">
  <div class="auth-card">
    <h1 class="auth-title">Reset Password</h1>

    {% if validlink %}
      <form method="POST" class="auth-form">
        {% csrf_token %}
        <div class="input-group">
          <input
            type="password"
            name="new_password"
            class="auth-input"
            placeholder="New Password"
            required
          >
        </div>
        <div class="input-group">
          <input
            type="password"
            name="confirm_password"
            class="auth-input"
            placeholder="Confirm New Password"
            required
          >
        </div>

        {% if error %}
          <div class="error-message" style="color:red; text-align:center;">{{ error }}</div>
        {% endif %}

        <button type="submit" class="btn btn-primary auth-btn">Reset Password</button>
      </form>
    {% else %}
      <p class="muted-center" style="color: red;">The password reset link is invalid or has expired.</p>
      <p class="muted-center">
        <a href="{% url 'login:forget_passwd' %}" class="muted-link">Request a new password reset</a>
      </p>
    {% endif %}

    <p class="muted-center">
      <a href="{% url 'landing:landing' %}" class="muted-link">Back to Home</a>
    </p>
  </div>
</div>
{% endblock %}
